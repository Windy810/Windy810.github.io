---
layout: post
title: "计算机网络基础概念总结"
date: 2020-10-11
description: "计网各层简述"
tags: network
category: blog
comments: true
sitemap: true
image:
  path: "https://xxglzx.zua.edu.cn/__local/1/42/04/B871F1AB478702DB41C53DF59DA_83F5567C_2DE10.jpg?e=.jpg"
---
* content
{:toc}

## 一、计算机网络体系结构

### 1.1 基础概念

#### 1.1.1 计算机网络

1. 定义：计算机网络就是一些**互联的**、**自治的**计算机系统的集合
2. 组成：从下列三种方式进行分类
    * 组成部分：
        * 硬件：主机（端系统）、通信链路（双绞线、光纤）、交换设备（路由器、交换机）、通信处理机（网卡）
        * 软件：实现资源共享等的软件（邮件收发、FTP程序）
        * 协议【核心】：规定了网络传输数据时需遵循的规范
    * 工作方式：
        * 边缘部分：所有因特网上供用户直接使用的主机
        * 核心部分：大量的网络和连接这些网络的路由器组成，为边缘部分提供连通性和交换服务
    * 功能组成：
        * 通信子网：传输介质、通信设备及相应协议
        * 资源子网：实现资源共享功能的设备及其软件的集合
3. 功能：数据通信；资源共享；分布式处理；提高可靠性；负载均衡
4. 分类：
    * 按分布范围分类：广域网；城域网；局域网；个人区域网
    * 按传输技术分类：广播式网络；点对点网络
    * 按拓扑结构分类：
        * 总线形网络：建网容易，增删方便/重负载时通信效率不高，任一处对故障敏感
        * 星形网络：便于集中控制/成本高，中心设备对故障敏感
        * 环形网络；
        * 网状网络：可靠性高/控制复杂、线路成本高
    * 按使用者分类：公用网；专用网
    * 按交换技术分类：
        * 电路交换网络：在源结点和目的结点中间建立专用通路用于传送数据 `e.g 传统电话网络`
        * 报文交换网络：存储-转发网络，封装成报文，整个报文传送到相邻结点，全部存储后再转发给下一个结点
        * 分组交换网络：将数据分成较短的固定长度的数据块，每个数据块以存储-转发方式传输
    * 按传输介质分类：有线（双绞线网络、同轴电缆网络）；无线（蓝牙、微波、无线电）
5. 性能指标
    * 带宽：Hz。表示网络的通信线路所能传送数据的能力，是“最高数据传输效率”的同义语，单位是比特/秒
    * 时延：指数据从网络一端到另一端所需要的总时间，由四部分构成：
      * 发送时延：结点将分组所有比特推向链路所需的时间  
      `发送时延 = 分组长度/信道长度`
      * 传播时延：一个比特从链路一端到另一端所需的时间  
      `传播时延 = 信道长度/电磁波再信道上的传播速率`
      * 处理时延：为存储转发而进行的一些必要的处理所花费的时间
      * 排队时延：分组再进入路由器后要先在输入队列中排队等待处理，输出队列也同样  
      `总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延`
    * 时延带宽积：指发送端发送的第一个比特即将到达终点时，发送端已经发出了多少个比特  
    `时延带宽积 = 传播时延x信道带宽`
    * 往返时延（RTT）：从发送端发送数据开始，到发送端收到来自接收端的确认总共经历的时延（包括处理时延、排队时延、发送时延等）
    * 吞吐量：单位时间内通过某个网络的数据量，吞吐量受网络带宽或网络额定速率的限制
    * 速率：主机在数字信道上传送数据的速率，也叫数据传输速率、数据率或比特率
    * 信道利用率：某一信道有百分之多少时间是有数据通过的，即  
    `信道利用率 = 有数据通过时间/（有+无）数据通过时间`

### 1.2 计算机网络体系结构与参考模型

#### 1.2.1 计算机网络分层结构

1. 在计算机网络的分层结构中，第n层中的活动元素通常为第n层实体；
2. 不同机器上的同一层为*对等层*，同一层的实体称为*对等实体*
3. 第n层实体实现的服务为第n+1层所利用，此时第n层为服务提供者，第n+1层则服务于用户
4. 计算机网络的每个层次中，每个报文都分为两个报文：数据部分（SDU）；控制信息部分（PCI）。共同组成协议数据单元（PDU）

#### 1.2.2计算机网络协议、接口、服务的概念

1. 协议：规则的集合，由语法、语义、同步三部分组成
    * 语法：规定传输数据的格式
    * 语义：规定了所要完成的功能，即需要发出何种控制信息、完成何种动作及做出何种应答
    * 同步：规定执行各种操作的条件、时序关系等，即时间实现顺序的详细说明
2. 接口：是同一结点内相邻两层间交换信息的连接点；不能跨层定义接口；同一结点相邻两层的实体通过服务访问点(SAP，实际上是逻辑接口)进行交互，服务是通过SAP提供给上层使用的
3. 服务：指下层为紧邻的上层提供的功能调用
    * 面向连接服务与无连接服务
    * 可靠服务和不可靠服务：具有纠错、检错、应答机制，保证数据正确/网络尽量正确、可靠地传送
    * 有应答服务和无应答服务

#### 1.2.3 ISO/OSI参考模型和TCP/IP模型

1. OSI参考模型
自下而上依次为：
    * [物理层]({{page.url}}#二物理层)：单位是比特，任务是透明地传输比特流
    * [数据链路层]({{page.url}}#三链路层)：单位是帧，任务是将网络层传来的IP数据报组装成帧；点对点通信；功能为成帧、差错控制、流量控制和传输管理；典型协议有SDLC、HDLC、PPP、STP
    * [网络层]({{page.url}}#四网络层)：单位是数据报，任务是把网络层的协议数据单元（分组）从源端传到目的端，为分组交换网上的不同主机提供通信服务；流量控制、拥塞控制、差错控制、网际互连；协议有IP、IPX、ICMP、IGMP、ARP、RARP、OSPF
    * [传输层]({{page.url}}#五传输层)：单位是报文段（TCP）或用户数据报（UDP）；任务是负责主机中两个进程之间的通信；端到端通信（进程间通信，进程由端口标识）；
    * 会话层：允许不同主机上的各个进程之间进行会话，负责主机间的会话进程，包括建立、管理、终止进程间的会话
    * 表示层：处理两个通信系统中交换信息的表示方式，使用标准方法定义数据结构；数据压缩、加密和解密
    * [应用层]({{page.url}}#六应用层)：用户与网络的界面；典型协议有FTP、SMTP、HTTP  

    注：低三层为通信子网，高三层为资源子网
    {:.note title="Attention"}

2. TCP/IP模型
从低到高依次：
    * 网络接口层（对应物理层和数据链路层）：主机必须使用某种协议与网络连接，以便在其上传递IP分组
    * 网际层：（主机-主机）将分组发给任何网络，并为之独立地选择合适的路由，但它不保证各个分组有序到达
    * 传输层：（应用-应用/进程-进程）传输控制协议（TCP，面向连接）、用户数据协议（UDP，无连接）
    * 应用层（会话层、表示层、应用层）：Telnet、DNS

## 二、物理层

### 2.1 通信基础

#### 2.1.1 基本概念

1. 数据、信号与码元
    * 数据：指传送信息的实体；信号：数据的电气或电磁表现
        * 连续变化的数据（或信号）称为*模拟数据*（或*模拟信号*）
        * 仅为有限几个离散数值的数据（或信号）称为*数字数据*（或*数字信号*）
    * 码元：指用一个固定时长的信号波形（数字脉冲）表示一位k进制数字，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位；这个时长内的信号被称为*k进制码元*，而该时长称为*码元宽度*；1码元可以携带若干比特的信息量
2. 信源、信道与信宿
    * 数据通信系统主要分为信源、信道和信宿三部分
        * 信源：产生和发送数据的源头
        * 信宿：接收数据的终点
        * 信道：信号的传输媒介，一条通信线路包括一条发送信道和一条接收信道
    * 从通信双方信息的交互方式看，可分为三种基本方式：
        * 单向通信：无线电广播、电视广播
        * 半双工通信：不同双方不能同时发送和接收信息，需要两条信道
        * 全双工通信：可以同时
3. 速率、波特与带宽
    * 速率是指单位时间内传输的数据量，分为码元传输速率和信息传输速率
        * 码元传输速率：（波特率）表示单位时间内数字通信系统所传输的码元个数，单位为波特
        * 信息传输速率：（信息速率、比特率）表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位为比特/秒

#### 2.1.2 奈奎斯特定理和香农定理

1. 奈奎斯特定理
    * 定义：理想低通信道下的极限数据传输速率 = $$ 2Wlog_2V (b/s)$$ （W是理想低通信道的带宽，V表示有多少种不同的码元）
    * 结论：在任何信道中，码元传输速率是有上限的
2. 香农定理
    * 定义：给出了带宽受限且有高斯白噪声干扰的信道的极限数据传输速率  
    信道的极限传输速率 = $$ Wlog_2(1+S/n) (b/s) $$  
    其中S为信道传输信号的平均功率，N为信道内高斯噪声功率，S/N为信噪比，信噪比 = $$ 10long_10(S/N) (dB) $$
    * 结论：信噪比越大，极限传输速率越高

#### 2.1.3 编码与调制

* 调制：把数据变换为模拟信号的过程称为调制
* 编码：把数据变换为数字信号的过程称为编码

1. 数字数据编码为数字信号  
    ![常用数字数据编码](https://gitee.com/windy810/pictures/raw/master/code.png)  

    常用的数字数据编码
    {:.figcaption}
    * 反向非归零编码：信号翻转为0，保持不变为1
    * 曼彻斯特编码：前高后低为1，前低后高为0
    * 差分曼彻斯特编码：若码元为1，则前半个码元电平和后半个码元电平相同；码元为0则相反
    * 4B/5B编码：将欲发送数据流的每4位作为一组，然后按照4B/5B编码规则将其转换成相应的5位码。5位码共32种组合，但只采用其中的16种对应16种不同的4位码，其他16种作为控制码（帧的开始和结束、线路的状态信息等）或保留。

## 三、数据链路层

## 四、网络层

## 五、传输层

## 六、应用层
